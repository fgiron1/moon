#!/bin/bash

case "$1" in
  on)
    wg-quick up mullvad
    echo "Mullvad VPN enabled"
    ;;
  off)
    wg-quick down mullvad
    echo "Mullvad VPN disabled"
    ;;
  status)
    if wg show | grep -q interface; then
      echo "VPN is active"
      curl -s https://am.i.mullvad.net/json | jq
    else
      echo "VPN is not active"
    fi
    ;;
  *)
    echo "Usage: vpn {on|off|status}"
    ;;
esac